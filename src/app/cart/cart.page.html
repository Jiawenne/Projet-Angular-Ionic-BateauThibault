<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>cart</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">cart</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-grid class="product-grid" >
    @for (product of cartProducts;track product.id){
      <ion-row class="product-row" style="margin: 8px">
        <ion-col  size="12" >
          <div class="product-div">
            <div class="product-div-image" style="background-image: url({{productImage[product.id]}}); background-size: cover; background-position: center; height: 70px;">
              <ion-icon class="add-cart-btn" src="../../assets/add_16dp_5F6368_FILL0_wght400_GRAD0_opsz20 (copy).svg" ></ion-icon>
          </div>
            <div class="product-div-description">
              <p class="product-title">{{product.name}}</p>
              <div class="product-div-price">
                <p class="product-price-unit">{{ product.price.toString().includes('.') ? product.price.toString().replace('.',',') + '0€' : product.price + ',00€' }}</p>
                <p class="product-price-unit">{{ product.price*product.quantity.toString().includes('.') ? product.price*product.quantity.toString().replace('.',',') + '0€' : product.price*product.quantity + ',00€' }}</p>
              </div>
            </div>
            <div class="product-div-quantity">
              @if (product.quantity==1) {
                <ion-icon class="" src="../../assets/delete_16dp_5F6368_FILL0_wght400_GRAD0_opsz20.svg" ></ion-icon>
              }
              @else {
                <ion-icon (click)="removeProduct(product)" class="" src="../../assets/remove_16dp_5F6368_FILL0_wght400_GRAD0_opsz20 (copy).svg" ></ion-icon>
              }
              <p class="product-price">{{product.quantity}}</p>
              <ion-icon (click)="addQuantity(product)" class="" src="../../assets/add_16dp_5F6368_FILL0_wght400_GRAD0_opsz20 (copy).svg" ></ion-icon>
            </div>
          </div>
        </ion-col>
      </ion-row>
    }
  </ion-grid>
  <ion-button (click)="clearCart()">
    clear cart
  </ion-button>
  <ion-button (click)="refreshCartProducts()">
    update cart
  </ion-button>
</ion-content>


